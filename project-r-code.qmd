```{r}
#| label: load-pkgs
#| message: false
library(tidyverse)
```

```{r}
#| label: load-data
shopping_data <- read_csv("datasets/shopping_habits_data.csv")
workout_data <- read_csv("datasets/workout_preferences_data.csv")
transportation_data <- read_csv("datasets/transportation_data.csv")
social_media_data <- read_csv("datasets/social_media_data.csv")
study_locations_data <- read_csv("datasets/study_locations_data.csv")
pet_ownership_data <- read_csv("datasets/pet_ownership_data.csv")

coffee_data <- read_csv("datasets/coffee_consumption.csv")
recycling_data <- read_csv("datasets/durham_recycling.csv")
outdoors_data <- read_csv("datasets/nc_outdoor_survey.csv")
activity_data <- read_csv("datasets/physical_activity.csv")
sleep_data <- read_csv("datasets/screen_time_sleep.csv")
spotify_data <- read_csv("datasets/spotify_listening_habits.csv")

garden_data <- read_csv("datasets/garden.csv")
college_career_data <- read_csv("datasets/college_career.csv")
library_data <- read_csv("datasets/library.csv")
fair_data <- read_csv("datasets/state_fair.csv")
credit_data <- read_csv("datasets/credit_cards.csv")
school_supplies_data <- read_csv("datasets/school_supplies.csv")
```

Bar Chart Template:
```{r}
#| label: bar-chart-template

ggplot() + 
  geom_bar() +
  labs(x = "Category of [population]", y = "Metric") +
  theme_minimal()
```
Bar chart example:

```{r}
#| label: garden-bar-chart

garden_data |>
  mutate(site_location = ifelse(site_location == "Centralish", 
                                "Central", site_location)) |>
  ggplot(aes(x = site_location, y = current_volunteer_count)) +
  geom_col(fill = "blue", width = 0.4) +
  scale_y_continuous(breaks = c(0, 25, 50, 75, 100)) +
  labs(x = "Site Location", y = "Volunteers", 
  title = "Current Volunteer Count by Garden Site") +
  theme_classic() +
  theme(
    axis.text.x = element_text(size = 14),  # Bigger x-axis labels
    axis.title.x = element_text(size = 16),
    axis.title.y = element_text(size = 16, angle = 0, vjust = 1.05, hjust = 0),
    plot.title = element_text(face = "bold", hjust = 0.5),
    panel.grid.major = element_blank(),  # Remove major gridlines
    panel.grid.minor = element_blank()   # Remove minor gridlines
  )

ggsave("garden_barchart.png", device = "png", width = 8, height = 5)
```


Scatter Plot Template:
```{r}
#| label: scatter-plot-template
ggplot() + 
  geom_point() +
  labs() +
  theme_minimal()
```

```{r}

volume_data <- spotify_data %>% 
  filter(Measure == "AvgVolumeLevel")

volume_data <- volume_data %>% 
  mutate(TimeOfDay = factor(TimeOfDay, 
                            levels = c("Morning", "Afternoon", "Evening", "Night")))

#| label: scatter-plot-template
ggplot(volume_data, aes(x = TimeOfDay, y = Value)) + 
  geom_point() +
  scale_y_continuous(limits = c(0, 100)) +
  labs(
    title = "Average Volume Level by Time of Day",
    x = "Time of Day",
    y = "Average Volume Level (dB)"
  ) +
  theme_minimal()
```

Lollipop chart template:

```{r}
#| label: lollipop-chart-template
ggplot() +
  geom_segment() +
  geom_point(size = 3) +
  labs(
    title = "",
    x = "",
    y = ""
  )
```

Lollipop chart example:

```{r}
#| label: lollipop-chart-workout
ymax <- max(workout_data$time_per_week_minutes, na.rm = TRUE)
yupper <- max(200, ceiling(ymax / 50) * 50)

ggplot(workout_data, aes(x = workout_type, y = time_per_week_minutes)) +
  geom_segment(aes(xend = workout_type, yend = 0),
               color = "blue", linewidth = 1.8) +
  geom_point(color = "blue", size = 7) +
  labs(
    title = "Average Time Spent per Week by Workout Type",
    x = "Workout Type",
    y = "Time per Week\n(minutes)"
  ) +
  scale_y_continuous(
    limits = c(0, yupper),
    breaks = seq(0, yupper, by = 50),
    expand = c(0, 0)                # makes lines touch x-axis
  ) +
  theme_classic(base_size = 16) +
  theme(
    plot.title = element_text(
      size = 22, 
      face = "bold", 
      hjust = 0.5, 
      margin = margin(t = 20, b = 20)
    ),
    axis.text = element_text(size = 14),
    axis.title.x = element_text(size = 16, margin = margin(t = 20, b = 20)),
    axis.title.y = element_text(
      angle = 0,                   # horizontal (right-side-up)
      vjust = 1,                
      hjust = 0.5,
      size = 16,
      margin = margin(r = 20)
    ),
    plot.margin = margin(10, 20, 10, 40)
  ) +
  coord_cartesian(clip = "off")

ggsave("workout_lollipop.png", device = "png", width = 14, height = 8)
```
